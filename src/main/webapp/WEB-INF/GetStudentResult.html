<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/header :: default-head(title='Result')"></head>

<body>
<div th:replace="fragments/header :: navbar"></div>
<h1>Result</h1>
<h2 th:text="'Course title: ' + ${course.title}"></h2>
<div th:if="${result.state.value < 2 }">
    <p>Not published yet</p>
</div>
<div th:if="${result.state.value >= 2}">
    <!--vertical table with student info and course info -->
    <table class="table table-bordered">
        <tr>
            <th>Student ID</th>
            <td th:text="${student.student_number}"></td>
        </tr>
        <tr>
            <th>Name</th>
            <td th:text="${student.name}"></td>
        </tr>
        <tr>
            <th>Surname</th>
            <td th:text="${student.surname}"></td>
        </tr>
        <tr>
            <th>Email</th>
            <td th:text="${student.email}"></td>
        </tr>
        <tr>
            <th>School</th>
            <td th:text="${student.school}"></td>
        </tr>
        <tr>
            <th>Result state:</th>
            <td th:text="${result.state.getDescription()}"></td>
        </tr>
        <tr>
            <th>Grade:</th>
            <td th:text="${result.getGradeString()}"></td>
        </tr>
    </table>

    <div th:if="${result.isEditableByStudent()}">
        <!-- if not refused, show grade and form button to Refuse -->
        <form th:action="@{/GetStudentResult}" method="post">
            <input type="hidden" name="sessionId" th:value="${result.session_idsession}" />
            <button type="submit">Reject</button>
        </form>
    </div>

    <div th:if="${result.isRejected()}">
        <p>Already rejected</p>
    </div>
</div>

<!-- default -->
<p th:case="*">Not published</p>
</div>

</body>
</html>